<!DOCTYPE HTML>
<html lang="en-US">
<head>
	<meta charset="UTF-8">
	<title></title>
</head>
<body>

<select name="uf" id="uf">
	<option value="">-- Escolha o Estado --</option>
	<option value="sp">SP</option>
	<option value="rj">RJ</option>
</select>

<select name="cidade" id="cidade"></select>
	
	
<script type="text/javascript">	
	document.getElementById('uf').addEventListener('change', function() {	
		var ufSelecionada = document.getElementById('uf').value;
		var cidade;
		var select;
	
		//Limpa o Select (caso j√° tenha cidades populadas anteriormente
		var myNode = document.getElementById("cidade");
		while (myNode.firstChild) {
			myNode.removeChild(myNode.firstChild);
		}	
		
		ajax = new XMLHttpRequest();
		//ajax.open('GET', 'cidades_sp.json', true);
		ajax.open('GET', 'cidades_'+ ufSelecionada + '.json', true);
		ajax.send();
		
		ajax.onreadystatechange = function() {
			if(ajax.readyState == 4 && ajax.status == 200) {
				//console.log(ajax.responseText);
				var json_cidades = JSON.parse(ajax.responseText);
				
				for(i in json_cidades){
					cidade = json_cidades[i];
					
					//Cria a a cidade na tag 'Option'
					var option = document.createElement("option");
					option.text = cidade;
					option.value = i;
					
					//Insere no Select a tag criada			
					select = document.getElementById("cidade");
					select.appendChild(option);
				}
				
			}
		}
		
	});
		
	
</script>
</body>
</html>